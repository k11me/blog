<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.5.2">Jekyll</generator><link href="http://localhost:4000/atom.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-11-22T03:43:33+08:00</updated><id>http://localhost:4000/</id><title type="html">Keleven.Me</title><subtitle>千变万化的是世界</subtitle><author><name>K11</name></author><entry><title type="html">快递到了！</title><link href="http://localhost:4000/living/2018/11/20/blog/" rel="alternate" type="text/html" title="快递到了！" /><published>2018-11-20T08:00:00+08:00</published><updated>2018-11-20T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/11/20/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/11/20/blog/">&lt;h1 id=&quot;14日的份&quot;&gt;14日的份&lt;/h1&gt;

&lt;h2 id=&quot;双11的快递到了&quot;&gt;双11的快递到了&lt;/h2&gt;

&lt;p&gt;小型超声波清洗机，和手动洗眼镜说再见了~~&lt;/p&gt;

&lt;h2 id=&quot;code定义中&quot;&gt;code定义中&lt;/h2&gt;

&lt;p&gt;定义&lt;code class=&quot;highlighter-rouge&quot;&gt;code&lt;/code&gt;将返回标准化，部件代码进行有效简化。&lt;/p&gt;

&lt;h1 id=&quot;20日的份&quot;&gt;20日的份&lt;/h1&gt;

&lt;p&gt;admin 管理 部分 完成了&lt;/p&gt;

&lt;p&gt;之后就是玩家部分了&lt;/p&gt;

&lt;p&gt;周末通过 奥德赛 与 暗影&lt;/p&gt;

&lt;p&gt;不不得不说 奥德赛 是历代最优&lt;/p&gt;

&lt;p&gt;暗影的手柄操作有点奇怪&lt;/p&gt;

&lt;p&gt;机器果然到时候了 九年了……&lt;/p&gt;

&lt;p&gt;在坚持坚持吧&lt;/p&gt;

&lt;p&gt;HDR 要有对应的显示器才可以&lt;/p&gt;

&lt;p&gt;目前看 LG 34WK95U-W 不错&lt;/p&gt;

&lt;p&gt;EIZO 就等到稳定下来再说了&lt;/p&gt;

&lt;p&gt;wacom 在数绘方面是优秀的 可是不支持HDR&lt;/p&gt;

&lt;p&gt;不过 贴图 还停留在一般RGB时代&lt;/p&gt;

&lt;p&gt;如果上升一步，想想都可怕，一般用户与使用HDR的用户&lt;/p&gt;

&lt;p&gt;体验的会是两个不同的世界，当然计算量也巨大的。&lt;/p&gt;

&lt;p&gt;服务端渲染随着带宽的扩大，终究是要到来的。&lt;/p&gt;

&lt;p&gt;头号玩家 描述世界 也只是时间问题&lt;/p&gt;

&lt;p&gt;技术层面上 一定使用的是 服务端渲染&lt;/p&gt;

&lt;p&gt;用户设备就不一定相同了&lt;/p&gt;

&lt;p&gt;随手看了下5G标准，需要更多基站设备…… 稳定性恐怕不高&lt;/p&gt;

&lt;p&gt;大法耳罩老化了 意外发现梁也断了……&lt;/p&gt;

&lt;p&gt;希望合金梁可以顺利到手！！耳罩的更换倒是有眉目了~&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">14日的份 双11的快递到了 小型超声波清洗机，和手动洗眼镜说再见了~~ code定义中 定义code将返回标准化，部件代码进行有效简化。 20日的份 admin 管理 部分 完成了 之后就是玩家部分了 周末通过 奥德赛 与 暗影 不不得不说 奥德赛 是历代最优 暗影的手柄操作有点奇怪 机器果然到时候了 九年了…… 在坚持坚持吧 HDR 要有对应的显示器才可以 目前看 LG 34WK95U-W 不错 EIZO 就等到稳定下来再说了 wacom 在数绘方面是优秀的 可是不支持HDR 不过 贴图 还停留在一般RGB时代 如果上升一步，想想都可怕，一般用户与使用HDR的用户 体验的会是两个不同的世界，当然计算量也巨大的。 服务端渲染随着带宽的扩大，终究是要到来的。 头号玩家 描述世界 也只是时间问题 技术层面上 一定使用的是 服务端渲染 用户设备就不一定相同了 随手看了下5G标准，需要更多基站设备…… 稳定性恐怕不高 大法耳罩老化了 意外发现梁也断了…… 希望合金梁可以顺利到手！！耳罩的更换倒是有眉目了~</summary></entry><entry><title type="html">logs完成了</title><link href="http://localhost:4000/living/2018/11/11/blog/" rel="alternate" type="text/html" title="logs完成了" /><published>2018-11-11T08:00:00+08:00</published><updated>2018-11-11T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/11/11/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/11/11/blog/">&lt;h1 id=&quot;7号的部分&quot;&gt;7号的部分&lt;/h1&gt;

&lt;h2 id=&quot;logs部分快完成了&quot;&gt;logs部分快完成了&lt;/h2&gt;

&lt;p&gt;要不要使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Laravel Scout&lt;/code&gt; 是个问题，优势是用&lt;/p&gt;

&lt;p&gt;之后就是玩家部分了，后端眼看着要搞定了&lt;/p&gt;

&lt;p&gt;超开心~(≧▽≦)/~啦啦啦&lt;/p&gt;

&lt;p&gt;目标是12月14日前完成全部后台部分&lt;/p&gt;

&lt;p&gt;19年3月先做出&lt;code class=&quot;highlighter-rouge&quot;&gt;Dome&lt;/code&gt;之后的修补是不可避免的&lt;/p&gt;

&lt;p&gt;希望众筹能顺利啊~~ 再去香港估计也要提上日程了~~&lt;/p&gt;

&lt;p&gt;想着要不要将游戏部分开源呢？一个人毕竟是有极限的……&lt;/p&gt;

&lt;p&gt;有些东西也是可遇不可求的……&lt;/p&gt;

&lt;h1 id=&quot;8号的部分&quot;&gt;8号的部分&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Laravel Homestead&lt;/code&gt; 配置了一天&lt;/p&gt;

&lt;p&gt;最大的问题还是墙&lt;/p&gt;

&lt;p&gt;解决方案&lt;/p&gt;

&lt;p&gt;安装&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant-proxyconf&lt;/code&gt;插&lt;/p&gt;

&lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;Vagrantfile&lt;/code&gt; 中添加&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Vagrant&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Vagrant&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;has_plugin?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;vagrant-proxyconf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;http&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://192.168.1.4:8004&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;https&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://192.168.1.4:8004&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;no_proxy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;localhost,127.0.0.1,.example.com&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;要在注意的是&lt;code class=&quot;highlighter-rouge&quot;&gt;127.0.0.1&lt;/code&gt;指的是虚拟机本身&lt;/p&gt;

&lt;p&gt;之后在本机或者路由中开启对应端口就完成了&lt;/p&gt;

&lt;h1 id=&quot;9号的份&quot;&gt;9号的份&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;windows&lt;/code&gt; 代理自动载入导致 大部分程序不能联网&lt;/p&gt;

&lt;p&gt;最后重启&lt;code class=&quot;highlighter-rouge&quot;&gt;SPE&lt;/code&gt;问题解决……&lt;/p&gt;

&lt;h1 id=&quot;10号的份&quot;&gt;10号的份&lt;/h1&gt;

&lt;p&gt;密码重置完成了 预感有时就的很准&lt;/p&gt;

&lt;h1 id=&quot;11月11的份&quot;&gt;11月11的份&lt;/h1&gt;

&lt;p&gt;出门绊倒了 有个小伤口 问题不大&lt;/p&gt;

&lt;p&gt;心得 合脚的鞋子超级重要！和现在的鞋子相性太差&lt;/p&gt;

&lt;p&gt;舒适度不高 走远了超辛苦&lt;/p&gt;

&lt;p&gt;语言切换完成了~~&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">7号的部分 logs部分快完成了 要不要使用Laravel Scout 是个问题，优势是用 之后就是玩家部分了，后端眼看着要搞定了 超开心~(≧▽≦)/~啦啦啦 目标是12月14日前完成全部后台部分 19年3月先做出Dome之后的修补是不可避免的 希望众筹能顺利啊~~ 再去香港估计也要提上日程了~~ 想着要不要将游戏部分开源呢？一个人毕竟是有极限的…… 有些东西也是可遇不可求的…… 8号的部分 Laravel Homestead 配置了一天 最大的问题还是墙 解决方案 安装vagrant-proxyconf插 在Vagrantfile 中添加 Vagrant.configure(&quot;2&quot;) do |config| if Vagrant.has_plugin?(&quot;vagrant-proxyconf&quot;) config.proxy.http = &quot;http://192.168.1.4:8004&quot; config.proxy.https = &quot;http://192.168.1.4:8004&quot; config.proxy.no_proxy = &quot;localhost,127.0.0.1,.example.com&quot; end end 要在注意的是127.0.0.1指的是虚拟机本身 之后在本机或者路由中开启对应端口就完成了 9号的份 windows 代理自动载入导致 大部分程序不能联网 最后重启SPE问题解决…… 10号的份 密码重置完成了 预感有时就的很准 11月11的份 出门绊倒了 有个小伤口 问题不大 心得 合脚的鞋子超级重要！和现在的鞋子相性太差 舒适度不高 走远了超辛苦 语言切换完成了~~</summary></entry><entry><title type="html">好想……</title><link href="http://localhost:4000/living/2018/11/03/blog/" rel="alternate" type="text/html" title="好想……" /><published>2018-11-03T08:00:00+08:00</published><updated>2018-11-03T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/11/03/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/11/03/blog/">&lt;h1 id=&quot;好想什么呢&quot;&gt;好想什么呢&lt;/h1&gt;

&lt;p&gt;来猜猜吧&lt;/p&gt;

&lt;h2 id=&quot;logs-部分&quot;&gt;logs 部分&lt;/h2&gt;

&lt;p&gt;结合&lt;code class=&quot;highlighter-rouge&quot;&gt;laravel logs&lt;/code&gt;重构&lt;/p&gt;

&lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;laravel logs&lt;/code&gt;基础上将&lt;code class=&quot;highlighter-rouge&quot;&gt;logs&lt;/code&gt;存入数据库&lt;/p&gt;

&lt;p&gt;先下&lt;code class=&quot;highlighter-rouge&quot;&gt;config\logging&lt;/code&gt;中添加&lt;code class=&quot;highlighter-rouge&quot;&gt;channels&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;如下&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;'channels' =&amp;gt; [
    'stack' =&amp;gt; [
        'driver' =&amp;gt; 'stack',
        'channels' =&amp;gt; ['mysql'],
    ],
	'mysql' =&amp;gt; [
	    'driver' =&amp;gt; 'custom',
	    'name' =&amp;gt; 'mysql',
	    'via' =&amp;gt; App\Logging\MySQLLogger::class,
	    'level' =&amp;gt; 'debug',
	],
]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;新建&lt;code class=&quot;highlighter-rouge&quot;&gt;MySQLLogger&lt;/code&gt; 这部分可以查看&lt;code class=&quot;highlighter-rouge&quot;&gt;laravel 文档&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Logger&lt;/code&gt; 的 &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt; 不能正常传入，问题暂时没找到根源&lt;/p&gt;

&lt;p&gt;于是进行手动传入&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;App\Logging&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Monolog\Logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;App\Logging\AdminLogsHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MySQLLogger&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__invoke&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'APP_NAME'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LogsHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'level'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;之后是&lt;code class=&quot;highlighter-rouge&quot;&gt;AdminLogsHandler&lt;/code&gt; 用于将&lt;code class=&quot;highlighter-rouge&quot;&gt;logs&lt;/code&gt;提交到数据库&lt;/p&gt;

&lt;p&gt;这里也可以复写其他方法，可以自行查看&lt;code class=&quot;highlighter-rouge&quot;&gt;Monolog\Logger&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;App\Logging&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Monolog\Logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Monolog\Handler\AbstractProcessingHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;App\Models\Logs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AdminLogsHandler&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AbstractProcessingHandler&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;Logs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'channel'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'message'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'message'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'level'&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'level_name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'context'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'context'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;App\Models\Logs&lt;/code&gt; 注意要添加批量写入&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    protected $fillable = [
        'channel',
        'message',
        'level',
        'context'
    ];
    protected $casts = [
        'context' =&amp;gt; 'array',
    ];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;数据迁移如下&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$table-&amp;gt;increments('id');
$table-&amp;gt;string('channel')-&amp;gt;index();
$table-&amp;gt;enum('level', [
    'DEBUG',
    'INFO',
    'NOTICE',
    'WARNING',
    'ERROR',
    'CRITICAL',
    'ALERT',
    'EMERGENCY'
])-&amp;gt;default('INFO');
$table-&amp;gt;longText('message');
$table-&amp;gt;text('context');
$table-&amp;gt;timestamps();
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;之后可以使用&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Log::info('message' , ['id' =&amp;gt; $id])&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;以上&quot;&gt;以上&lt;/h2&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">好想什么呢 来猜猜吧 logs 部分 结合laravel logs重构 在laravel logs基础上将logs存入数据库 先下config\logging中添加channels 如下 'channels' =&amp;gt; [ 'stack' =&amp;gt; [ 'driver' =&amp;gt; 'stack', 'channels' =&amp;gt; ['mysql'], ], 'mysql' =&amp;gt; [ 'driver' =&amp;gt; 'custom', 'name' =&amp;gt; 'mysql', 'via' =&amp;gt; App\Logging\MySQLLogger::class, 'level' =&amp;gt; 'debug', ], ] 新建MySQLLogger 这部分可以查看laravel 文档 Logger 的 name 不能正常传入，问题暂时没找到根源 于是进行手动传入 &amp;lt;?php namespace App\Logging; use Monolog\Logger; use App\Logging\AdminLogsHandler; class MySQLLogger { public function __invoke(array $config) { return new Logger( env('APP_NAME'), [ new LogsHandler( $config['level'], $config['name'] ) ] ); } } 之后是AdminLogsHandler 用于将logs提交到数据库 这里也可以复写其他方法，可以自行查看Monolog\Logger &amp;lt;?php namespace App\Logging; use Monolog\Logger; use Monolog\Handler\AbstractProcessingHandler; use App\Models\Logs; class AdminLogsHandler extends AbstractProcessingHandler { private $name; public function __construct($level, $name) { parent::__construct($level); $this-&amp;gt;name = $name; } protected function write(array $record) { Logs::create([ 'channel' =&amp;gt; $this-&amp;gt;name, 'message' =&amp;gt; $record['message'], 'level' =&amp;gt; $record['level_name'], 'context' =&amp;gt; $record['context'] ]); } } App\Models\Logs 注意要添加批量写入 protected $fillable = [ 'channel', 'message', 'level', 'context' ]; protected $casts = [ 'context' =&amp;gt; 'array', ]; 数据迁移如下 $table-&amp;gt;increments('id'); $table-&amp;gt;string('channel')-&amp;gt;index(); $table-&amp;gt;enum('level', [ 'DEBUG', 'INFO', 'NOTICE', 'WARNING', 'ERROR', 'CRITICAL', 'ALERT', 'EMERGENCY' ])-&amp;gt;default('INFO'); $table-&amp;gt;longText('message'); $table-&amp;gt;text('context'); $table-&amp;gt;timestamps(); 之后可以使用 Log::info('message' , ['id' =&amp;gt; $id]) 以上</summary></entry><entry><title type="html">智力上线🙂</title><link href="http://localhost:4000/living/2018/11/01/blog/" rel="alternate" type="text/html" title="智力上线🙂" /><published>2018-11-01T08:00:00+08:00</published><updated>2018-11-01T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/11/01/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/11/01/blog/">&lt;h1 id=&quot;智力上线&quot;&gt;智力上线&lt;/h1&gt;

&lt;h2 id=&quot;27号的份&quot;&gt;27号的份&lt;/h2&gt;

&lt;p&gt;机械劳动久了，智商就下线了&lt;/p&gt;

&lt;p&gt;可以快速解决问题，要重复好多次也是蛮蠢的&lt;/p&gt;

&lt;p&gt;可是一直进行无创造劳动吧 智商也就慢慢休眠了_(:з」∠)_&lt;/p&gt;

&lt;p&gt;之后美名其曰代码可读性提高了，&lt;/p&gt;

&lt;p&gt;不过函数用多了一样不容易读，啊啊啊 好矛盾啊&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;29日的份&quot;&gt;29日的份&lt;/h2&gt;

&lt;p&gt;定时自动调整权限完成了~~&lt;/p&gt;

&lt;p&gt;加上之前的权限方便能安心了了~~ 暂时~~&lt;/p&gt;

&lt;p&gt;程序什么的 是要不断改进的&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;11月1号的份&quot;&gt;11月1号的份&lt;/h2&gt;

&lt;p&gt;一小步与一大步，真的只是差了一点点，现在看看方便了不少。&lt;/p&gt;

&lt;p&gt;几天前 明白了一些事儿 很意外的 也是很有意思&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;providers&lt;/code&gt; 定义成了 &lt;code class=&quot;highlighter-rouge&quot;&gt;Facades&lt;/code&gt; 用起来更方便了&lt;/p&gt;

&lt;p&gt;新建&lt;code class=&quot;highlighter-rouge&quot;&gt;class&lt;/code&gt; 下面这样写 之后要注意到&lt;code class=&quot;highlighter-rouge&quot;&gt;config\app.php&lt;/code&gt;中绑定&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt; 

&lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;App\Facades&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 

&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Illuminate\Support\Facades\Facade&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomService&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Facade&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getFacadeAccessor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; 
	&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'CustomService'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">智力上线 27号的份 机械劳动久了，智商就下线了 可以快速解决问题，要重复好多次也是蛮蠢的 可是一直进行无创造劳动吧 智商也就慢慢休眠了_(:з」∠)_ 之后美名其曰代码可读性提高了， 不过函数用多了一样不容易读，啊啊啊 好矛盾啊 29日的份 定时自动调整权限完成了~~ 加上之前的权限方便能安心了了~~ 暂时~~ 程序什么的 是要不断改进的 11月1号的份 一小步与一大步，真的只是差了一点点，现在看看方便了不少。 几天前 明白了一些事儿 很意外的 也是很有意思 providers 定义成了 Facades 用起来更方便了 新建class 下面这样写 之后要注意到config\app.php中绑定 &amp;lt;?php namespace App\Facades; use Illuminate\Support\Facades\Facade; class CustomService extends Facade { protected static function getFacadeAccessor() { return 'CustomService'; } }</summary></entry><entry><title type="html">几天份</title><link href="http://localhost:4000/living/2018/10/25/blog/" rel="alternate" type="text/html" title="几天份" /><published>2018-10-25T08:00:00+08:00</published><updated>2018-10-25T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/10/25/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/10/25/blog/">&lt;h1 id=&quot;23号的份&quot;&gt;23号的份&lt;/h1&gt;

&lt;h2 id=&quot;vue-当前页刷新&quot;&gt;vue 当前页刷新&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;location.reload()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;其他&quot;&gt;其他&lt;/h2&gt;

&lt;p&gt;3合一验证 完成了&lt;/p&gt;

&lt;p&gt;后端做成服务提供者了&lt;/p&gt;

&lt;p&gt;用起来容易了不少&lt;/p&gt;

&lt;p&gt;admin 部分要收尾了 😊&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;24号的份&quot;&gt;24号的份&lt;/h1&gt;

&lt;p&gt;为一些请求添加二步验证&lt;/p&gt;

&lt;p&gt;之后是定时服务 与 logs&lt;/p&gt;

&lt;p&gt;还有 &lt;code class=&quot;highlighter-rouge&quot;&gt;admin&lt;/code&gt; 基本信息页面&lt;/p&gt;

&lt;p&gt;游戏模式有一次眉目了&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;25号的份&quot;&gt;25号的份&lt;/h1&gt;

&lt;h2 id=&quot;laravel下错误返回分类&quot;&gt;laravel下错误返回分类&lt;/h2&gt;

&lt;p&gt;在一些情况下想要对不同的请求做不同错误的返回&lt;/p&gt;

&lt;p&gt;可以使用&lt;code class=&quot;highlighter-rouge&quot;&gt;$request-&amp;gt;ajax()&lt;/code&gt;来识别&lt;code class=&quot;highlighter-rouge&quot;&gt;ajax&lt;/code&gt;请求&lt;/p&gt;

&lt;p&gt;对于自定义错误返回非常有用&lt;/p&gt;

&lt;p&gt;更新&lt;code class=&quot;highlighter-rouge&quot;&gt;node&lt;/code&gt; 后包报错，直接删除&lt;code class=&quot;highlighter-rouge&quot;&gt;node_modules&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;之后&lt;code class=&quot;highlighter-rouge&quot;&gt;npm install&lt;/code&gt; 可以解决大多数问题&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">23号的份 vue 当前页刷新 location.reload() 其他 3合一验证 完成了 后端做成服务提供者了 用起来容易了不少 admin 部分要收尾了 😊 24号的份 为一些请求添加二步验证 之后是定时服务 与 logs 还有 admin 基本信息页面 游戏模式有一次眉目了 25号的份 laravel下错误返回分类 在一些情况下想要对不同的请求做不同错误的返回 可以使用$request-&amp;gt;ajax()来识别ajax请求 对于自定义错误返回非常有用 更新node 后包报错，直接删除node_modules 之后npm install 可以解决大多数问题</summary></entry><entry><title type="html">使用 postman 进行 post</title><link href="http://localhost:4000/living/2018/10/21/blog/" rel="alternate" type="text/html" title="使用 postman 进行 post" /><published>2018-10-21T08:00:00+08:00</published><updated>2018-10-21T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/10/21/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/10/21/blog/">&lt;h1 id=&quot;使用-postman-进行-post&quot;&gt;使用 postman 进行 post&lt;/h1&gt;

&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;postman&lt;/code&gt; 直接 &lt;code class=&quot;highlighter-rouge&quot;&gt;post&lt;/code&gt; 的方法&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;laravel&lt;/code&gt; 本身有&lt;code class=&quot;highlighter-rouge&quot;&gt;CSRF&lt;/code&gt; 直接使用&lt;code class=&quot;highlighter-rouge&quot;&gt;post&lt;/code&gt; 、 &lt;code class=&quot;highlighter-rouge&quot;&gt;put&lt;/code&gt; 等等会被阻断&lt;/p&gt;

&lt;p&gt;找到一个可以解决办法&lt;/p&gt;

&lt;h2 id=&quot;postman-chrome-插件版本&quot;&gt;postman chrome 插件版本&lt;/h2&gt;

&lt;p&gt;新建一个&lt;code class=&quot;highlighter-rouge&quot;&gt;environment&lt;/code&gt; 并切换到新建，右上⚙位置&lt;/p&gt;

&lt;p&gt;找一个&lt;code class=&quot;highlighter-rouge&quot;&gt;get&lt;/code&gt;请求 在&lt;code class=&quot;highlighter-rouge&quot;&gt;Tests&lt;/code&gt;标签下输入&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var xsrfCookie = postman.getResponseCookie(&quot;XSRF-TOKEN&quot;);
postman.setEnvironmentVariable(&quot;XSRF-TOKEN&quot;, xsrfCookie.value);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;`` 对应该的是第二行要注意下。&lt;/p&gt;

&lt;p&gt;用于获取&lt;code class=&quot;highlighter-rouge&quot;&gt;XSRF-TOKEN&lt;/code&gt;的值。&lt;/p&gt;

&lt;p&gt;查看&lt;code class=&quot;highlighter-rouge&quot;&gt;environment&lt;/code&gt;中 &lt;code class=&quot;highlighter-rouge&quot;&gt;XSRF-TOKEN&lt;/code&gt; 是否被正确传入。右上👁位置&lt;/p&gt;

&lt;p&gt;确认后在&lt;code class=&quot;highlighter-rouge&quot;&gt;post&lt;/code&gt; 的&lt;code class=&quot;highlighter-rouge&quot;&gt;Headers&lt;/code&gt; 中添加&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;X-XSRF-TOKEN : &lt;/code&gt;&lt;/p&gt;

&lt;p&gt;之后就可以正常提交&lt;code class=&quot;highlighter-rouge&quot;&gt;post&lt;/code&gt;了&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;注意：laravel XSRF-TOKEN 有时效性 注意更新&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;当&lt;code class=&quot;highlighter-rouge&quot;&gt;XSRF-TOKEN&lt;/code&gt; 中有特殊字符，例如&lt;code class=&quot;highlighter-rouge&quot;&gt;%&lt;/code&gt;时，&lt;code class=&quot;highlighter-rouge&quot;&gt;laravel X-XSRF-TOKEN&lt;/code&gt; 验证会失败&lt;/p&gt;

&lt;p&gt;主要是为&lt;code class=&quot;highlighter-rouge&quot;&gt;postman&lt;/code&gt; 对&lt;code class=&quot;highlighter-rouge&quot;&gt;XSRF-TOKEN&lt;/code&gt;识别有问题，桌面版本没有这个问题&lt;/p&gt;

&lt;h2 id=&quot;postman-桌面版&quot;&gt;postman 桌面版&lt;/h2&gt;

&lt;p&gt;同上&lt;code class=&quot;highlighter-rouge&quot;&gt;Tests&lt;/code&gt;标签可以写成&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pm.environment.set(&quot;xsrf-token&quot;, decodeURIComponent(pm.cookies.get(&quot;XSRF-TOKEN&quot;)))
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;laravel valet&lt;/code&gt; 时，&lt;code class=&quot;highlighter-rouge&quot;&gt;postman&lt;/code&gt;不能正确访问域名……&lt;/p&gt;

&lt;p&gt;原因&lt;code class=&quot;highlighter-rouge&quot;&gt;valet&lt;/code&gt;产生的&lt;code class=&quot;highlighter-rouge&quot;&gt;SSL&lt;/code&gt;证书，所以被阻挡，手动关闭后正常使用&lt;/p&gt;

&lt;p&gt;要关闭的位置&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;settings&lt;/code&gt; -&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;SSL certificate verifcation&lt;/code&gt; -&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;off&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;之后就可以正常使用了&lt;/p&gt;

&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;valet&lt;/code&gt;时 &lt;code class=&quot;highlighter-rouge&quot;&gt;link&lt;/code&gt; 与 &lt;code class=&quot;highlighter-rouge&quot;&gt;park&lt;/code&gt; 混用会报错！&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="postman" /><category term="laravel" /><summary type="html">使用 postman 进行 post 使用postman 直接 post 的方法 laravel 本身有CSRF 直接使用post 、 put 等等会被阻断 找到一个可以解决办法 postman chrome 插件版本 新建一个environment 并切换到新建，右上⚙位置 找一个get请求 在Tests标签下输入 var xsrfCookie = postman.getResponseCookie(&quot;XSRF-TOKEN&quot;); postman.setEnvironmentVariable(&quot;XSRF-TOKEN&quot;, xsrfCookie.value); `` 对应该的是第二行要注意下。 用于获取XSRF-TOKEN的值。 查看environment中 XSRF-TOKEN 是否被正确传入。右上👁位置 确认后在post 的Headers 中添加 X-XSRF-TOKEN : 之后就可以正常提交post了 注意：laravel XSRF-TOKEN 有时效性 注意更新 当XSRF-TOKEN 中有特殊字符，例如%时，laravel X-XSRF-TOKEN 验证会失败 主要是为postman 对XSRF-TOKEN识别有问题，桌面版本没有这个问题 postman 桌面版 同上Tests标签可以写成 pm.environment.set(&quot;xsrf-token&quot;, decodeURIComponent(pm.cookies.get(&quot;XSRF-TOKEN&quot;))) 使用laravel valet 时，postman不能正确访问域名…… 原因valet产生的SSL证书，所以被阻挡，手动关闭后正常使用 要关闭的位置 settings -&amp;gt; SSL certificate verifcation -&amp;gt; off 之后就可以正常使用了 使用valet时 link 与 park 混用会报错！</summary></entry><entry><title type="html">几天的份</title><link href="http://localhost:4000/living/2018/10/18/blog/" rel="alternate" type="text/html" title="几天的份" /><published>2018-10-18T08:00:00+08:00</published><updated>2018-10-18T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/10/18/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/10/18/blog/">&lt;h1 id=&quot;15号的份&quot;&gt;15号的份&lt;/h1&gt;

&lt;h2 id=&quot;染黑了&quot;&gt;染黑了&lt;/h2&gt;

&lt;p&gt;自己都感觉到内心在向着无底的黑暗靠近&lt;/p&gt;

&lt;p&gt;新键盘并没有人体工程学的好用&lt;/p&gt;

&lt;p&gt;估计以后都只会选择人体工程学的了&lt;/p&gt;

&lt;h2 id=&quot;开始处理权限了&quot;&gt;开始处理权限了&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;admin&lt;/code&gt;的基本部分快做完了&lt;/p&gt;

&lt;p&gt;之后是一般用户数据了&lt;/p&gt;

&lt;p&gt;按照计划的一样进行扩展&lt;/p&gt;

&lt;p&gt;说句自满的话&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;它不仅仅是一个游戏&lt;/code&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;16号的份&quot;&gt;16号的份&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;v-for&lt;/code&gt; 不能放在顶级标签上，会报错！&lt;/p&gt;

&lt;p&gt;更新了一下&lt;code class=&quot;highlighter-rouge&quot;&gt;docker&lt;/code&gt;镜像&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;role&lt;/code&gt; 部分也完成了……&lt;/p&gt;

&lt;p&gt;现在又累又饿……&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;18号的份&quot;&gt;18号的份&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;role&lt;/code&gt; 部分修正完成~~&lt;/p&gt;

&lt;p&gt;过程中确实补增了许多东西&lt;/p&gt;

&lt;p&gt;到验证了~~&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="vue" /><category term="laravel" /><summary type="html">15号的份 染黑了 自己都感觉到内心在向着无底的黑暗靠近 新键盘并没有人体工程学的好用 估计以后都只会选择人体工程学的了 开始处理权限了 admin的基本部分快做完了 之后是一般用户数据了 按照计划的一样进行扩展 说句自满的话 它不仅仅是一个游戏 16号的份 v-for 不能放在顶级标签上，会报错！ 更新了一下docker镜像 role 部分也完成了…… 现在又累又饿…… 18号的份 role 部分修正完成~~ 过程中确实补增了许多东西 到验证了~~</summary></entry><entry><title type="html">11号的份</title><link href="http://localhost:4000/living/2018/10/14/blog/" rel="alternate" type="text/html" title="11号的份" /><published>2018-10-14T08:00:00+08:00</published><updated>2018-10-14T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/10/14/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/10/14/blog/">&lt;h1 id=&quot;11号的份&quot;&gt;11号的份&lt;/h1&gt;

&lt;h2 id=&quot;队列&quot;&gt;队列&lt;/h2&gt;

&lt;p&gt;将特定 信息通知 推送到指定队列&lt;/p&gt;

&lt;p&gt;修改&lt;code class=&quot;highlighter-rouge&quot;&gt;horizon&lt;/code&gt; 后&lt;/p&gt;

&lt;p&gt;可以使用&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$user-&amp;gt;notify((new SendEmail($Token))-&amp;gt;onQueue('mail'));
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;use Notification;
Notification::send($user, (new SendEmail($Token))-&amp;gt;onQueue('mail'));
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id=&quot;roles&quot;&gt;roles&lt;/h2&gt;

&lt;p&gt;需要注意&lt;code class=&quot;highlighter-rouge&quot;&gt;guard&lt;/code&gt;对应&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;view&lt;/code&gt;与&lt;code class=&quot;highlighter-rouge&quot;&gt;models&lt;/code&gt; 要注意同步&lt;/p&gt;

&lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;blade&lt;/code&gt; 中使用时&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@role('role' , 'guard')
something
@endrole
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;在路由中使用时&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Route::group(['middleware' =&amp;gt; ['auth:admin' , 'role:admin']], function () {

});
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;也可以在控制器中使用&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;public function __construct()
{
    $this-&amp;gt;middleware(['role:admin' , 'auth:admin']);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;14号的份&quot;&gt;14号的份&lt;/h1&gt;

&lt;h2 id=&quot;find-与-where-的坑&quot;&gt;find 与 where 的坑&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;find&lt;/code&gt; 不能准确 查找到对应条目&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;where&lt;/code&gt; 则可以，之后只有有意识的替换&lt;code class=&quot;highlighter-rouge&quot;&gt;find&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;register&lt;/code&gt;的后端调整完成了~~~&lt;/p&gt;

&lt;p&gt;大概这种感觉&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2018/10/14/5bc33df12e03a.png&quot; alt=&quot;屏幕快照 2018-10-14 20.58.44&quot; /&gt;&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">11号的份 队列 将特定 信息通知 推送到指定队列 修改horizon 后 可以使用 $user-&amp;gt;notify((new SendEmail($Token))-&amp;gt;onQueue('mail')); 或 use Notification; Notification::send($user, (new SendEmail($Token))-&amp;gt;onQueue('mail')); roles 需要注意guard对应 view与models 要注意同步 在blade 中使用时 @role('role' , 'guard') something @endrole 在路由中使用时 Route::group(['middleware' =&amp;gt; ['auth:admin' , 'role:admin']], function () { }); 也可以在控制器中使用 public function __construct() { $this-&amp;gt;middleware(['role:admin' , 'auth:admin']); } 14号的份 find 与 where 的坑 find 不能准确 查找到对应条目 where 则可以，之后只有有意识的替换find register的后端调整完成了~~~ 大概这种感觉</summary></entry><entry><title type="html">10号的份</title><link href="http://localhost:4000/living/2018/10/10/blog/" rel="alternate" type="text/html" title="10号的份" /><published>2018-10-10T08:00:00+08:00</published><updated>2018-10-10T08:00:00+08:00</updated><id>http://localhost:4000/living/2018/10/10/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/10/10/blog/">&lt;h2 id=&quot;lavavel-valet&quot;&gt;lavavel valet&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;valet share&lt;/code&gt; 在TLS的情况下会返回&lt;code class=&quot;highlighter-rouge&quot;&gt;301&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;可以确定为&lt;code class=&quot;highlighter-rouge&quot;&gt;valet v2.1.1&lt;/code&gt; 的 BUG&lt;/p&gt;

&lt;p&gt;可以先&lt;code class=&quot;highlighter-rouge&quot;&gt;valet unsecure&lt;/code&gt; 再 &lt;code class=&quot;highlighter-rouge&quot;&gt;valet share&lt;/code&gt; 关闭&lt;code class=&quot;highlighter-rouge&quot;&gt;TLS&lt;/code&gt; 和裸奔没区别 可以用来进行暂时测试&lt;/p&gt;

&lt;p&gt;汇率已经到&lt;code class=&quot;highlighter-rouge&quot;&gt;7.5&lt;/code&gt;了……&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">lavavel valet valet share 在TLS的情况下会返回301 可以确定为valet v2.1.1 的 BUG 可以先valet unsecure 再 valet share 关闭TLS 和裸奔没区别 可以用来进行暂时测试 汇率已经到7.5了……</summary></entry><entry><title type="html">2FA 基本完成了</title><link href="http://localhost:4000/living/2018/10/04/blog/" rel="alternate" type="text/html" title="2FA 基本完成了" /><published>2018-10-04T08:01:00+08:00</published><updated>2018-10-04T08:01:00+08:00</updated><id>http://localhost:4000/living/2018/10/04/blog</id><content type="html" xml:base="http://localhost:4000/living/2018/10/04/blog/">&lt;h1 id=&quot;2fa-基本完成了&quot;&gt;2FA 基本完成了&lt;/h1&gt;

&lt;p&gt;后端还缺权限的判断，与&lt;code class=&quot;highlighter-rouge&quot;&gt;code message&lt;/code&gt;预制编码&lt;/p&gt;

&lt;p&gt;前端缺特殊&lt;code class=&quot;highlighter-rouge&quot;&gt;code message&lt;/code&gt;的代码响应 指的是2FA的强制验证&lt;/p&gt;

&lt;p&gt;之后要加入批量导入功能 否则会累死~~&lt;/p&gt;

&lt;h2 id=&quot;laravel-model-的坑&quot;&gt;laravel model 的坑&lt;/h2&gt;

&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;get()&lt;/code&gt;去取到的数据是&lt;code class=&quot;highlighter-rouge&quot;&gt;array&lt;/code&gt; 而不是&lt;code class=&quot;highlighter-rouge&quot;&gt;object&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;可以手动转换 也可以直接使用 根据需求决定&lt;/p&gt;</content><author><name>K11</name></author><category term="日记" /><category term="laravel" /><summary type="html">2FA 基本完成了 后端还缺权限的判断，与code message预制编码 前端缺特殊code message的代码响应 指的是2FA的强制验证 之后要加入批量导入功能 否则会累死~~ laravel model 的坑 使用get()去取到的数据是array 而不是object 可以手动转换 也可以直接使用 根据需求决定</summary></entry></feed>